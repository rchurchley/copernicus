@import 'reset.scss';
@import 'palettes.scss';
@import 'defaults.scss';
@import 'layout.scss';
@import 'typography.scss';
@import 'style-templates.scss';

/*############################
## BASIC COLOURS AND STYLES ##
############################*/
html {
	background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSIxMDAiPjxyZWN0IGZpbGw9IiNGNEY3RjciIHdpZHRoPSI1NiIgaGVpZ2h0PSIxMDAiLz48cGF0aCBzdHJva2U9IiNFNEU2RTYiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTI4IDY2bC0yOC0xNnYtMzRsMjgtMTYgMjggMTZ2MzRsLTI4IDE2djM0IiBmaWxsPSJub25lIi8+PHBhdGggc3Ryb2tlPSIjRTRFNkU2IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yOCAwdjM0bC0yOCAxNnYzNGwyOCAxNiAyOC0xNnYtMzRsLTI4LTE2IiBmaWxsPSJub25lIi8+PC9zdmc+);
	background-size: 15px auto;
}

body {
	font-family: "Source Sans Pro", sans-serif;	
	color: $Foreground;
}

header, h1, h2, h3, h4, th, dt, nav, code { 
	font-family: "Roboto Slab", serif;
}

a { 
	color: $AltForeground; 
}

button {
	background-color: $HeaderBackground; 
	color: $HeaderForeground;
}

blockquote, caption, pre, samp, time, .meta, .meta a { 
	color: $AltForeground; 
}

code {
	background-color: $AltBackground;
}

a { 
	text-decoration: none; 
	&:hover {
		text-decoration: underline;
	}
}

.post-content {
	border: 1px solid $AltLight;
}

/*#################
## BASIC LAYOUT  ##
#################*/

body {
	width: 100%;
}

body > header, body > footer {
	width: 100%;
}

body > section, body > article {
	width: 100%;
	margin-left: auto;
	margin-right: auto;

	@media (min-width: $MediumGrid + 2*$HGutter) and (max-width: $LargeGrid - 1px) { 
		width: $MediumGrid; 
	}
	@media (min-width: $LargeGrid + 2*$HGutter) {
		width: $LargeGrid;
	}
}

body > section, body > article, body > footer {
	@extend .SkipBefore;
}

body > header + article, body > header + section, body > article + footer, body > section + footer {
	@media #{$SmallScreen}, (min-width: $MediumGrid) and (max-width: $MediumGrid + 2*$HGutter), (min-width: $LargeGrid) and (max-width: $LargeGrid + 2*$HGutter) {
		margin-top: 0;
	}
}

.post-banner {
	width: 100%;
	height: 10rem;
	background-position: 50% 33.3333%;
	background-repeat: no-repeat;
}

.gallery {
	figure { 
		@extend .MainColumnColumn;
		float:left;
		line-height: 0;
		img {
			width: 100%;
			height: auto;
		}
	}
	header { 
		@extend .SideColumnColumn;
		@extend .AttachColumnColumnToRight;
	}
}

#splash {
	+ section { @extend .NoSkipBefore; }
}

.column {
	@extend .MainColumn;
	float:left;
}

.margin {
	@extend .SideColumn;
	@extend .AttachColumnToRight;
	@extend .NoSkipBefore;
	@media not screen and #{$LargeScreen} {	display: none; }
}

.columncolumn {
	@extend .MainColumnColumn;
	float:left;
}

.marginmargin {
	@extend .SideColumnColumn;
	@extend .AttachColumnColumnToRight;
	@extend .NoSkipBefore;
	@media screen and #{$SmallScreen} { display: none; }
}

.column, .columncolumn, .margin, .marginmargin {
	@extend .PaddedLayoutElement;
}

.margin.has-sidenotes {
	@media not screen and #{$LargeScreen} {
		display: block;
		float: right;
	}
}

/*#################
## BASIC SPACING ##
#################*/

h2:not(:first-child), h3:not(:first-child), h4:not(:first-child), h5:not(:first-child), h6:not(:first-child), p:not(:first-child), dl:not(:first-child), ul:not(:first-child), ol:not(:first-child), blockquote:not(:first-child) {
	@extend .PreParSkip;
}

dt { margin-top: 0.5em; }

ul, ol, dd {
	padding-left: $HGutter; 
}

time, .meta {
	display: inline;
}

blockquote {
	padding-left: $HGutter;
	padding-right: $HGutter; 
}

button {
	@include paddedbox;
	@extend .Shadows;
}

footer address {
	margin-top:0;
}

/*####################################
## STYLES FOR BASIC LAYOUT ELEMENTS ##
####################################*/

body > header h1 {
	display: inline-block;
	@include paddedbox;
}

body > header, body > footer	{ 
	text-align:center;
	color: $HeaderForeground; 	  	
	background-color: $HeaderBackground; 
	a { color: $HeaderForeground; }
}

#top-menus ul {
	@extend .NoSkipBefore;
}

.gallery {
	header { 
		@extend .PaddedLayoutElement; 
		h2 { text-align: center; }
		.categories {
			text-align: center;
			@include footnotetype;
			a { color:$MidLight; }
		}
	}
	figure {
		z-index: 1;
	}
	color: $MidLight;
	background-color: $Dark;
	a { color: $HeaderForeground; }
}

body > section, body > article {
	@extend .Shadows;
}

.column, .columncolumn {
	background-color: $Background;
}

.margin, .marginmargin {
	background-color: $AltBackground;
}

body > footer {
	@extend .PaddedLayoutElement;
	color: $AltForeground;
}

/*##########################
## ADVANCED LAYOUT STYLES ##
##########################*/

@import 'navigation.scss';
@import 'comments.scss';
@import 'sidematter.scss';
@import 'forms.scss';
@import 'postformats.scss';

.subsection {
	position:static;
	&:not(:first-child) { @extend .SkipBefore; }
}

.output-message {
	width:100%;
	text-align:center;
	a { color: $Foreground; }
}